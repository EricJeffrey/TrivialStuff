试着用CPP20的协程，Generator是参照标准提案写的，意义不大。

一些个人理解:

- 协程表现为一个函数(+返回值)

- 协程函数的返回值可看作协程的管理者(可以用来销毁、恢复、暂停协程)

- 协程返回值类型(假设A)需要包含一个`promise_type`类型，即`A::promise_type`

- `co_yield expr`等价于`co_await promise.yield_value(expr)` - 即需定义后面的函数才能使用该关键字

协程对比线程: 

- 协程不是为了更好**并行**，而是为了**异步调用顺序化**
- 协程可以由程序决定何时暂停何时恢复，但是线程需要使用同步技术


对于生产者消费者模型，在多处理器核心的情况下，多线程能够让*生产*和*消费*并行处理。但单处理器核心时，这两个线程实际上在**竞争**CPU，这种情况采用顺序的方式(生产X个产品-暂停生产全部消费-生产X...)可能更高效。但另一方面，若生产者或消费者疲劳了，想要让对方先执行，则顺序方式就无法很方便处理了。这个时候协程(协作的程序)的优势就体现了，可以在消费者疲劳的时候暂停，然后等待生产者执行或反之。

协程也可以调度在不同的线程上，提高效率？

总的来说，协程和线程不应该存在谁替代谁的关系，而且两者要解决的问题也是不同的。
